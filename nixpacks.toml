# Nixpacks configuration for Railway deployment
# This ensures Deno is installed for yt-dlp YouTube support

[phases.setup]
nixPkgs = ["python312", "python312Packages.pip", "deno"]

[phases.install]
cmds = [
    "python3 -m pip install -r requirements.txt || python3 -m pip install fastapi uvicorn yt-dlp python-multipart python-dotenv requests"
]

[start]
cmd = "uvicorn main:app --host :: --port ${PORT:-8000}"
